<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body id="form">
    <form action="" >
        <h3>Select an option</h3>
        <select name="cases" id="cases">
            <option value="">Select an option</option>
            <option value="sum">Sum of two</option>
            <option value="max">Max of three</option>
            <option value="prime">Prime number</option>
            <option value="reverse">Reversed string</option>
        </select>
        <br>
        <div class="sum" id="sum">
            <h4>Calculate the sum of two numbers</h4>
            <input type="text" placeholder="First number" id="sumNum1">
            <br>
            <input type="text" placeholder="Second number" id="sumNum2">
        </div>
        <div class="max" id="max">
            <h4>Calculate the max of three numbers</h4>
            <input type="text" placeholder="First number" id="maxNum1">
            <br>
            <input type="text" placeholder="Second number" id="maxNum2">
            <br>
            <input type="text" placeholder="Third number" id="maxNum3">
        </div>
        <div class="prime" id="prime">
            <h4>Find out if the number is a prime</h4>
            <input type="text" placeholder="Enter a number" id="primeNum">
            <br>
        </div>
        <div class="reverse" id="reverse">
            <h4>Reverse a string</h4>
            <input type="text" placeholder="Enter a string" id="reverseString">
            <br>
        </div>

        
    </form>
    <div id="result"></div>
    <input type="submit" name="Submit" id="submit">
    
    <script src="http://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>

    <script>
        $('div').hide()

        $('#cases').change(function () {
            var value = this.value;

            $('div').hide()
            $('#' + this.value).show();
            
            

        });
        $('#submit').click(function(){
            var selectedVal =  $('#cases :selected').val();
            //alert(selectedVal);
            if(selectedVal === 'sum'){
                
                var num1 = document.querySelector('#sumNum1').value;
                var num2 = document.querySelector('#sumNum2').value;
                if(num1 === '' || num2 === '' || isNaN(num1) || isNaN(num2)){
                    alert("Please enter two numbers")
                } else {
                    num1 = parseFloat(num1);
                    num2 = parseFloat(num2);
                    sum(num1, num2);
                }
                document.querySelector('#sumNum1').value = '';
                document.querySelector('#sumNum2').value = '';
                      
            }
            else if(selectedVal === 'max'){
                
                var num1 = document.querySelector('#maxNum1').value;
                var num2 = document.querySelector('#maxNum2').value;
                var num3 = document.querySelector('#maxNum3').value;
                if(num1 === '' || num2 === '' || num3 === '' || isNaN(num1) || isNaN(num2) || isNaN(num3)){
                    alert("Please enter two numbers")
                } else {
                    num1 = parseFloat(num1);
                    num2 = parseFloat(num2);
                    num3 = parseFloat(num3);
                    max(num1, num2, num3);
                }
                document.querySelector('#maxNum1').value = '';
                document.querySelector('#maxNum2').value = '';
                document.querySelector('#maxNum3').value = '';        
            }
            else if(selectedVal === 'prime'){
                var primeNum = document.querySelector('#primeNum').value;
                if(primeNum === '' || isNaN(primeNum)){
                    alert("Please a number")
                } else {
                    primeNum = parseFloat(primeNum);
                    isPrime(primeNum);
                }
                document.querySelector('#primeNum').value = ''; 

            }
            else if(selectedVal === 'reverse'){
                var reverseString = document.querySelector('#reverseString').value;
                //alert(reverseString);
                reversed(reverseString);
                document.querySelector('#reverseString').value = '';   
                document.querySelector('#reverseString').value = '';

            }
        });

        

        function sum(num1, num2){
            document.querySelector('#result').innerHTML = '';
            //alert(num1+num2);
            var div = document.querySelector('#result');
            var textEl = document.createElement('p');
            textEl.textContent = `The sum of ${num1} and ${num2} is ${num1+num2}`;
            div.appendChild(textEl);
            $('#result').show()
        }
        function max(num1, num2, num3){
            var max = Math.max(num1, num2, num3);

            document.querySelector('#result').innerHTML = '';
            var div = document.querySelector('#result');
            var textEl = document.createElement('p');
            textEl.textContent = `The max between ${num1}, ${num2} and ${num3} is ${max}`;
            
            div.appendChild(textEl);
            $('#result').show()
        }

        
       

        function isPrime(primeNum) {
            document.querySelector('#result').innerHTML = '';
            var div = document.querySelector('#result');
            var textEl = document.createElement('p');
            var prime = true;

            if (primeNum <= 1) {
                prime = false
                
            }
            if (primeNum === 2) {
                var prime = true;
            }

            var sqrt = Math.sqrt(primeNum);

            for (var i = 2; i <= sqrt; i++) {
                if (primeNum % i === 0){
                    prime = false;
                } 
            }
            if (prime === true){
                textEl.textContent = `The number ${primeNum} is prime`;
            }else {
                if(primeNum <= 1){
                    textEl.textContent = "The number is equal or smaller than 1"
                }else 
                    textEl.textContent = `The number ${primeNum} is not prime`;
            }
            
            div.appendChild(textEl);
            $('#result').show()
        }

        function reversed(reverseString) {
            document.querySelector('#result').innerHTML = '';
            var div = document.querySelector('#result');
            var textEl = document.createElement('p');
           
            var newString = "";
        
            for (var i = reverseString.length - 1; i >= 0; i--) { 
                newString += reverseString[i]; 
            }
            textEl.textContent = `The reverse of ${reverseString} is ${newString}`;
            div.appendChild(textEl);
            $('#result').show()
           
        }

              
    </script>



</body>
</html>